{% extends 'account/layout.html.twig' %}

{% block accountBody %}

	<div class="container mx-auto p-8 bg-white shadow-md rounded h-full">
		<h1 class="text-2xl font-bold mb-6">Candidatures pour
			{{ offer.name }}</h1>

		{% if applications|length > 0 %}
			<table class="min-w-full bg-white border border-gray-300 rounded-md">
				<thead>
					<tr>
						<th class="px-4 py-2 border-b font-semibold text-left text-gray-800">Nom du candidat</th>
						<th class="px-4 py-2 border-b font-semibold text-left text-gray-800">Email</th>
						<th class="px-4 py-2 border-b font-semibold text-left text-gray-800">Téléphone</th>
						<th class="px-4 py-2 border-b font-semibold text-left text-gray-800">Date de candidature</th>
						<th class="px-4 py-2 border-b font-semibold text-left text-gray-800">Actions</th>
					</tr>
				</thead>
				<tbody>
					{% for application in applications %}
						<tr class="hover:bg-gray-100">
							<td class="px-4 py-2 border-b">{{ application.student.firstName }}
								{{ application.student.lastName }}</td>
							<td class="px-4 py-2 border-b">{{ application.student.email }}</td>
							<td class="px-4 py-2 border-b">{{ application.student.phone }}</td>
							<td class="px-4 py-2 border-b">{{ application.createdAt|date('d/m/Y') }}</td>
							<td class="px-4 py-2 border-b">
								<a href="{{ path('app_application_detail', { id: application.id }) }}" class="text-blue-600 hover:underline">Détails</a>
							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="5" class="text-center py-4 text-gray-500">Aucune candidature trouvée.</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% else %}

			<p class="text-gray-500">Il n'y a actuellement aucune candidature pour cette offre.</p>
		{% endif %}
        <div class="mt-8">
            <a href="{{ path('app_company_offer_list')}}" class="inline-block px-6 py-3 bg-blue-600 text-white font-semibold rounded-md shadow-md hover:bg-blue-700">
                Retour à la liste des offres
            </a>
        </div>

	</div>

{% endblock %}

